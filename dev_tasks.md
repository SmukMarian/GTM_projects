# Haier Project Tracker — Dev Tasks

Чек-лист задач для реализации проекта согласно `Haier_Project_Tracker_TZ.md`.  
Отмечай выполненные пункты `[x]`.

---

## 1. Базовая подготовка

- [x] Создать/обновить файл `Haier_Project_Tracker_TZ.md` в корне репозитория и убедиться, что он актуален.
- [x] Создать `AGENTS.md` (этот файл) в корне репозитория.
- [x] Создать `project-plan.md` (план проекта).
- [x] Создать `dev_tasks.md` (данный чек-лист).
- [x] Настроить базовую структуру проекта (директории, минимальные файлы запуска приложения).

---

## 2. Модель данных и архитектура

- [x] Описать сущности и связи в виде текстовой схемы (ER-диаграмма или эквивалент):
  - Продуктовая группа;
  - Проект;
  - GTM-этап;
  - Задача;
  - Подзадача;
  - Характеристика (секции и поля);
  - Шаблон GTM;
  - Шаблон характеристик;
  - Файл;
  - Изображение;
  - Комментарий;
  - История изменений.

- [x] Определить связи между сущностями:
  - Продуктовая группа ↔ Проекты (1 ко многим);
  - Проект ↔ GTM-этапы (1 ко многим);
  - Проект ↔ Задачи (1 ко многим);
  - Задача ↔ Подзадачи (1 ко многим);
  - Проект ↔ Секции характеристик (1 ко многим);
  - Секция ↔ Поля (1 ко многим);
  - Проект ↔ Файлы (1 ко многим);
  - Проект ↔ Изображения (1 ко многим);
  - Проект ↔ Комментарии (1 ко многим);
  - Проект ↔ История изменений (1 ко многим).

- [x] Спроектировать слой данных (хранение в одном локальном хранилище/файле).

---

## 3. Запуск приложения

- [x] Реализовать базовый запуск приложения как локального веб-приложения.
- [x] Обеспечить открытие приложения через ссылку в браузере (локальный адрес).
- [x] Настроить запуск через иконку/ярлык (одна команда/исполняемый файл, который поднимает приложение и открывает браузер).

---

## 4. Дашборд

- [x] Реализовать главную страницу «Дашборд».
- [x] Отображать сводку по статусам проектов (Активный / Закрыт / Архивирован).
- [x] Отображать сводку по продуктовым группам:
  - название;
  - количество активных проектов;
  - индикатор рисков (если есть просрочки).
- [x] Реализовать список ближайших важных дат:
  - дедлайны GTM-этапов;
  - дедлайны задач.
- [x] Реализовать ленту последних изменений.
- [x] Реализовать переходы по клику:
  - в продуктовую группу;
  - в проект.
- [x] Реализовать фильтры на дашборде:
  - по группе;
  - по бренду;
  - по статусу проекта.
- [x] Добавить контекстные меню по правой кнопке мыши для карточек групп и проектов на дашборде.

---

## 5. Продуктовые группы

- [x] Реализовать модель «Продуктовая группа» с полями:
  - название;
  - описание;
  - статус (Активна / Архивирована);
  - бренды;
  - дополнительные пользовательские поля.

- [x] Реализовать экран списка продуктовых групп:
  - отображение всех групп (кроме архивных по умолчанию);
  - отображение краткой сводки.

- [x] Реализовать создание новой группы.
- [x] Реализовать редактирование группы.
- [x] Реализовать архивирование и восстановление группы.
- [x] Реализовать фильтры:
  - по статусу (включая «Показывать архив»);
  - по бренду;
  - по пользовательским полям (если есть).

- [x] Реализовать удаление группы с подтверждением:
  - определить и реализовать желаемое поведение с привязанными проектами (запрет удаления при наличии проектов, либо каскадное удаление/перенос — согласно решению).

- [x] Добавить контекстное меню по правой кнопке мыши на группе:
  - открыть;
  - редактировать;
  - архивировать / восстановить;
  - удалить.

---

## 6. Проекты

- [x] Реализовать модель «Проект» с полями из ТЗ:
  - название;
  - группа;
  - бренд;
  - рынок/регион;
  - краткое и расширенное описание;
  - статус (Активный / Закрыт / Архивирован);
  - текущий GTM-этап;
  - плановая и фактическая дата запуска;
  - приоритет;
  - пользовательские поля.

- [x] Реализовать создание проекта внутри выбранной группы.
- [x] Реализовать редактирование проекта.
- [x] Реализовать изменение статусов:
  - Активный;
  - Закрыт;
  - Архивирован.

- [x] Реализовать список проектов в группе:
  - вид «карточки»;
  - вид «таблица».

- [x] Реализовать фильтры по проектам:
  - по бренду;
  - по статусу;
  - по текущему GTM-этапу;
  - по периоду запуска.

- [x] Реализовать архивирование и восстановление проектов.
- [x] Реализовать удаление проекта с подтверждением:
  - удалять связанные GTM-этапы, задачи, подзадачи, характеристики, файлы, изображения, комментарии, записи истории.

- [x] Реализовать контекстное меню по правой кнопке мыши на проекте:
  - открыть;
  - редактировать;
  - закрыть;
  - архивировать / восстановить;
  - дублировать (если нужно);
  - удалить.

---

## 7. Go-to-market (GTM) этапы

- Прогресс: реализованы backend-эндпоинты для CRUD шаблонов GTM, управления этапами проекта и применения шаблона к проекту; интерфейс и импорт/экспорт предстоит добавить.

- [x] Реализовать модель GTM-этапа (поля: название, описание, порядок, плановые даты начала/окончания, фактическая дата завершения, статус, риск, чек-лист).
- [x] Реализовать интерфейс управления этапами в карточке проекта:
  - список этапов;
  - отображение статусов и дат.

- [x] Реализовать добавление GTM-этапа.
- [x] Реализовать редактирование GTM-этапа.
- [x] Реализовать изменение порядка этапов.
- [x] Реализовать чек-лист внутри этапа:
  - добавление пунктов;
  - отметка «выполнено»;
  - удаление пунктов.
- [x] Реализовать установку статусов (Не начат / В работе / Завершён / Отменён).
- [x] Реализовать отметку риска (ручная или автоматически по просрочке).
- [x] Реализовать удаление этапа с подтверждением.

- [x] Реализовать работу с шаблонами GTM:
  - сохранение текущей структуры этапов проекта как шаблона;
  - выбор шаблона при создании проекта;
  - при необходимости — применение шаблона к существующему проекту (аккуратная логика объединения/замены).

- [x] Реализовать экспорт структуры GTM-этапов в Excel.
- [x] Реализовать импорт структуры GTM-этапов из Excel с валидацией.

- [x] Добавить контекстное меню по правой кнопке мыши для этапов:
  - редактировать;
  - управлять чек-листом;
  - дублировать;
  - удалить.

---

## 8. Характеристики продукта (RU/EN)

- [x] Реализовать структуру секций характеристик, связанных с проектом.
- [x] Реализовать поля характеристик с:
  - Label RU;
  - Label EN;
  - Value RU;
  - Value EN;
  - типом поля (текст, число, список, флажок и т.д.).

- [x] Реализовать интерфейс, где RU и EN значения отображаются рядом.

- [x] Реализовать операции с секциями:
  - добавление;
  - переименование;
  - изменение порядка;
  - удаление (с подтверждением).

- [x] Реализовать операции с полями:
  - добавление;
  - редактирование Label RU/EN, типа;
  - изменение порядка;
  - удаление (с подтверждением).

- [x] Реализовать шаблоны характеристик:
  - создание шаблона (структура секций и полей без значений);
  - выбор шаблона при создании проекта;
  - копирование структуры из другого проекта.

- [x] Реализовать экспорт характеристик проекта в Excel:
  - секция;
  - Label RU;
  - Label EN;
  - Value RU;
  - Value EN;
  - тип (опционально).

- [x] Реализовать импорт характеристик из Excel:
  - сопоставление секции и полей по Label RU/EN;
  - заполнение Value RU/EN;
  - обработка ошибок сопоставления с понятными сообщениями.

- [x] Добавить контекстное меню по правой кнопке мыши для секций и полей:
  - редактировать;
  - дублировать (при необходимости);
  - удалить.

---

## 9. Задачи, подзадачи и комментарии

- [x] Реализовать модель «Задача» с полями:
  - заголовок;
  - описание;
  - статус;
  - срок;
  - важность;
  - привязка к GTM-этапу.

- [x] Реализовать модель «Подзадача»:
  - текст;
  - флаг выполнения.

- [x] Реализовать представление задач:
  - список;
  - доска по статусам.

- [x] Реализовать фильтры по задачам:
  - по статусу;
  - по срокам (ближайшие, просроченные);
  - по GTM-этапу.

- [x] Реализовать CRUD-операции задач:
  - создание;
  - редактирование;
  - смена статуса;
  - дублирование (если нужно);
  - удаление с подтверждением.

- [x] Реализовать CRUD-операции подзадач:
  - добавление;
  - редактирование;
  - отметка выполнено/не выполнено;
  - удаление с подтверждением.

- [x] Реализовать комментарии к задачам:
  - добавление;
  - отображение;
  - при необходимости — редактирование/удаление.

- [x] Добавить контекстное меню по правой кнопке мыши для задач и подзадач:
  - открыть/редактировать;
  - изменить статус (где применимо);
  - дублировать (если нужно);
  - удалить.

---

## 10. Галерея и обложка

- [x] Реализовать модель «Изображение проекта».
- [x] Реализовать интерфейс галереи в карточке проекта:
  - список/плитка изображений с подписями.

- [x] Реализовать загрузку изображений.
- [x] Реализовать редактирование подписи/комментария.
- [x] Реализовать изменение порядка изображений (по возможности).
- [x] Реализовать выбор обложки из галереи.
- [x] Обеспечить, чтобы обложка была квадратной или корректно кадрировалась.
- [x] Реализовать удаление изображения с подтверждением.

- [x] Добавить контекстное меню по правой кнопке мыши:
  - просмотреть;
  - назначить обложкой;
  - изменить подпись;
  - удалить.

---

## 11. Файлы и документы

- [x] Реализовать модель «Файл проекта».
- [x] Реализовать интерфейс списка файлов в проекте:
  - имя файла;
  - описание;
  - категория;
  - дата.

- [x] Реализовать загрузку файла.
- [x] Реализовать редактирование описания и категории.
- [x] Реализовать скачивание файла.
- [x] Реализовать удаление файла с подтверждением.

- [x] Добавить контекстное меню по правой кнопке мыши:
  - скачать;
  - изменить описание/категорию;
  - удалить.

---

## 12. Комментарии к проекту и история изменений

- [x] Реализовать комментарии к проекту:
  - добавление;
  - отображение;
  - при необходимости — редактирование/удаление.

- [x] Определить набор событий для истории изменений (согласно ТЗ).
- [x] Реализовать запись событий в историю:
  - изменения статусов;
  - работа с GTM-этапами;
  - задачи/подзадачи;
  - изменения характеристик (минимум укрупнённо);
  - операции с файлами и изображениями;
  - смена обложки.

- [x] Реализовать отображение истории в карточке проекта (лента).

---

## 13. Архивирование и удаление

- [x] Проверить, что у проектов реализованы:
  - статусы Активный / Закрыт / Архивирован;
  - фильтрация по статусам;
  - архивирование/восстановление;
  - удаление с подтверждением.

- [x] Проверить, что у продуктовых групп реализованы:
  - статусы Активна / Архивирована;
  - фильтрация с опцией «Показывать архив»;
  - архивирование/восстановление;
  - удаление с подтверждением (с корректной обработкой проектов).

- [x] Проверить, что у задач:
  - статус «Готово» воспринимается как закрыта;
  - есть фильтр «скрыть выполненные» (если реализуется);
  - есть возможность удалить задачу.

- [x] Убедиться, что во всех сущностях, где указано удаление в ТЗ, оно реализовано с подтверждением.

---

## 14. Импорт/экспорт

- [x] Реализовать экспорт характеристик проекта в Excel.
- [x] Реализовать импорт характеристик из Excel с сопоставлением по секции и Label RU/EN.
- [x] Реализовать экспорт структуры GTM-этапов в Excel.
- [x] Реализовать импорт структуры GTM-этапов из Excel.
- [x] Реализовать экспорт списка проектов (с ключевыми полями) в Excel.
- [x] Для каждого сценария импорта реализовать обработку ошибок с понятным сообщением.

---

## 15. Резервное копирование

- [x] Реализовать функцию «Сохранить резервную копию базы» (экспорт всех данных в файл).
- [x] Реализовать функцию «Восстановить из резервной копии» (загрузка файла).
- [x] Задокументировать путь к основному файлу данных для ручного резервного копирования.

---

## 16. Финальная проверка по ТЗ

- [ ] Пройтись по `Haier_Project_Tracker_TZ.md` пункт за пунктом.
- [ ] Для каждого раздела ТЗ убедиться, что соответствующий функционал реализован.
- [ ] Если что-то не реализовано — явно зафиксировать, почему и какое решение предлагается (изменить ТЗ или добавить задачу).
- [ ] Прогнать основные пользовательские сценарии:
  - добавление групп/проектов;
  - настройка GTM;
  - задачи/подзадачи;
  - характеристики RU/EN;
  - галерея и обложка;
  - файлы и комментарии;
  - история изменений;
  - архивирование/удаление;
  - импорт/экспорт;
  - резервные копии.

- [ ] Зафиксировать версию как v1 (рабочая боевая версия).

